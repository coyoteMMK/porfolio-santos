@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@layer components {

  :root {
  --glass-distortion-url: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cfilter%20id%3D%22glass-distortion%22%3E%3CfeTurbulence%20type%3D%22fractalNoise%22%20baseFrequency%3D%220.005%200.009%22%20numOctaves%3D%222%22%20seed%3D%2292%22%20result%3D%22noise%22%2F%3E%3CfeGaussianBlur%20in%3D%22noise%22%20stdDeviation%3D%222%22%20result%3D%22blurred%22%2F%3E%3CfeDisplacementMap%20in%3D%22SourceGraphic%22%20in2%3D%22blurred%22%20scale%3D%2255%22%20xChannelSelector%3D%22R%22%20yChannelSelector%3D%22G%22%2F%3E%3C%2Ffilter%3E%3C%2Fsvg%3E#glass-distortion");
}


  /* Efecto cristal líquido */
  .efecto-cristal {
    position: relative;
    isolation: isolate;
    border-radius: 1.75rem;
    /* 28px */
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.2);
  }

  .efecto-cristal::after {
    content: '';
    position: absolute;
    inset: 0;
    z-index: -7;
    border-radius: inherit;
    /* Aplica el blur y la distorsión al fondo */
  backdrop-filter: blur(2px) var(--glass-distortion-url);
  -webkit-backdrop-filter: blur(2px) var(--glass-distortion-url);

  /* Elimina las líneas filter, no son necesarias aquí */
  /* filter: var(--glass-distortion-url); */
  /* -webkit-filter: var(--glass-distortion-url); */
  }

  .efecto-cristal::before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: 0;
    border-radius: inherit;
    box-shadow: inset 0 0 20px -5px #ffffff;
    background-color: rgba(255, 255, 255, 0.06);
  }

  /* Asegura que el contenido quede por encima del pseudo-elemento */
  .efecto-cristal>* {
    position: relative;
    z-index: 2;
  }

  /* Animaciones ligadas al scroll */
  .header-nav.efecto-cristal {
    animation: box-shadow-show 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 200px;
  }

  .header-nav.efecto-cristal::before {
    animation: tint-show 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 200px;
  }

  .header-nav.efecto-cristal::after {
    animation: liquid-show 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 200px;
  }

  /* Animaciones para el efecto cristal líquido del scroll */
  @keyframes box-shadow-show {
    from {
      box-shadow: none;
    }

    to {
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.336);
    }
  }

  @keyframes liquid-show {
    from {
      backdrop-filter: blur(0);
      -webkit-backdrop-filter: blur(0);
      filter: none;
    }

    to {
      backdrop-filter: blur(2px) var(--glass-distortion-url);
  -webkit-backdrop-filter: blur(2px) var(--glass-distortion-url);
    }
  }

  @keyframes tint-show {
    from {
      background-color: rgba(255, 255, 255, 0);
      box-shadow: none;
    }

    to {
      background-color: rgba(255, 255, 255, 0.418);
      box-shadow: inset 0 0 1.5px 1.5px #ffffff;
    }
  }

  /* Versión Oscura: animaciones ligadas al scroll SOLO en modo dark */
  .dark .header-nav.efecto-cristal {
    animation: box-shadow-show-dark 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 200px;
  }

  .dark .header-nav.efecto-cristal::before {
    animation: tint-show-dark 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 200px;
  }

  .dark .header-nav.efecto-cristal::after {
    animation: liquid-show-dark 1s linear both;
    animation-timeline: scroll();
    animation-range: 0 200px;
  }

  @keyframes box-shadow-show-dark {
    from {
      box-shadow: none;
    }

    to {
      box-shadow: 0 6px 24px rgba(136, 136, 136, 0.18);
    }
  }

  @keyframes tint-show-dark {
    from {
      background-color: rgba(17, 24, 39, 0);
      box-shadow: none;
    }

    to {
      background-color: rgba(255, 255, 255, 0.11);
      box-shadow: inset 0 0 1.5px 1.5px rgb(0, 0, 0);
    }
  }

  @keyframes liquid-show-dark {
    from {
      backdrop-filter: blur(0);
      -webkit-backdrop-filter: blur(0);
      filter: none;
    }

    to {
      backdrop-filter: blur(2px) var(--glass-distortion-url);
  -webkit-backdrop-filter: blur(2px) var(--glass-distortion-url);
    }
  }


  /* Estilos para los enlaces de navegación activos*/
  /* Asegura que el a activo estire toda la altura del header-nav */
  .active-navitem {
    display: flex;
    align-items: center;
    color: #ff1818;
    height: 100%;
    /* a full height of .header‑nav */
    padding: 0 1rem;
    /* ajusta horizontal padding a tu gusto */
    position: relative;
    border-radius: 9999px;
    transition: all 0.2s;
  }

  /* Global.css, dentro de @layer components */
  /* Indicador deslizante */
  .nav-indicator {
    position: absolute;
    bottom: 0;
    /* alinea al pie del nav */
    height: 100%;
    /* cubre toda la altura del nav */
    background: rgba(122, 122, 122, 0.322);
    border-radius: 9999px;
    transition: transform 0.3s ease, width 0.3s ease;
    z-index: 0;
    /* detrás de los enlaces */
    width: 0;
    /* empieza oculto hasta que se active */
  }

  /* Asegura que los enlaces estén por encima del indicador */
  header nav>a {
    z-index: 1;
  }


}